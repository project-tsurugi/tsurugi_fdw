<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1739px" preserveAspectRatio="none" style="width:1866px;height:1739px;" version="1.1" viewBox="0 0 1866 1739" width="1866px" zoomAndPan="magnify"><defs><filter height="300%" id="f1v7k9z3d6zdvx" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="263" x="804" y="26.708">テーブル定義シーケンス詳細案2</text><rect fill="#87CEFA" height="1689.625" style="stroke: #A80036; stroke-width: 1.0;" width="123" x="219.5" y="38.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="222.5" y="51.02">コンポーネント名：</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="64" x="249" y="66.1528">frontend</text><rect fill="#90EE90" height="1689.625" style="stroke: #A80036; stroke-width: 1.0;" width="456" x="408.5" y="38.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="578" y="51.02">コンポーネント名：</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="192" x="540.5" y="66.1528">manager/message-broker</text><rect fill="#ADFF2F" height="1689.625" style="stroke: #A80036; stroke-width: 1.0;" width="220" x="866.5" y="38.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="918" y="51.02">コンポーネント名：</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="214" x="869.5" y="66.1528">manager/metadata-manager</text><rect fill="#87CEFA" height="1689.625" style="stroke: #A80036; stroke-width: 1.0;" width="268.5" x="1088.5" y="38.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="1164.25" y="51.02">コンポーネント名：</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="64" x="1190.75" y="66.1528">frontend</text><rect fill="#FFFFE0" height="1689.625" style="stroke: #A80036; stroke-width: 1.0;" width="283" x="1359" y="38.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="1442" y="51.02">コンポーネント名：</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="89" x="1456" y="66.1528">ogawayama</text><rect fill="#FFB6C1" height="1689.625" style="stroke: #A80036; stroke-width: 1.0;" width="123" x="1644" y="38.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="1647" y="51.02">コンポーネント名：</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="1689.5" y="66.1528">olap</text><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="1450.3359" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="165" y="173.9453"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="1417.3359" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="276" y="192.9453"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="965.0859" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="465" y="631.1953"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="656.5" y="514.6641"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="656.5" y="572.9297"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="551.0234" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="656.5" y="659.1953"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="302.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="656.5" y="1266.2188"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="57.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="931" y="222.0781"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="57.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="931" y="947.6875"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="57.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="931" y="1413.0156"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1000.5" y="251.2109"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1000.5" y="976.8203"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1000.5" y="1442.1484"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="464.7578" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1142" y="717.4609"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="269.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1422" y="859.1563"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1564.5" y="1047.9531"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="215.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1700.5" y="1324.4844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="32" x2="32" y1="137.8125" y2="1642.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="169.5" x2="169.5" y1="137.8125" y2="1642.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="280.5" x2="280.5" y1="137.8125" y2="1642.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="469.5" x2="469.5" y1="137.8125" y2="1642.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="571.5" x2="571.5" y1="137.8125" y2="1642.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="661.5" x2="661.5" y1="334.5078" y2="1642.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="827.5" x2="827.5" y1="137.8125" y2="1642.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="936" x2="936" y1="137.8125" y2="1642.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1005" x2="1005" y1="137.8125" y2="1642.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1146.5" x2="1146.5" y1="400.9531" y2="1642.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1304" x2="1304" y1="137.8125" y2="1642.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1427" x2="1427" y1="764.6094" y2="1642.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1569" x2="1569" y1="137.8125" y2="1642.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1705" x2="1705" y1="459.25" y2="1642.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="8" y="134.5107">利用者</text><ellipse cx="32" cy="64.5156" fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M32,72.5156 L32,99.5156 M19,80.5156 L45,80.5156 M32,99.5156 L19,114.5156 M32,99.5156 L45,114.5156 " fill="none" filter="url(#f1v7k9z3d6zdvx)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="8" y="1654.2764">利用者</text><ellipse cx="32" cy="1667.5781" fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M32,1675.5781 L32,1702.5781 M19,1683.5781 L45,1683.5781 M32,1702.5781 L19,1717.5781 M32,1702.5781 L45,1717.5781 " fill="none" filter="url(#f1v7k9z3d6zdvx)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="126.5" y="134.5107">PostgreSQL</text><path d="M149.5,93.5156 L149.5,117.5156 M149.5,105.5156 L166.5,105.5156 " fill="none" filter="url(#f1v7k9z3d6zdvx)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="178.5" cy="105.5156" fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="126.5" y="1654.2764">PostgreSQL</text><path d="M149.5,1661.5781 L149.5,1685.5781 M149.5,1673.5781 L166.5,1673.5781 " fill="none" filter="url(#f1v7k9z3d6zdvx)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="178.5" cy="1673.5781" fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="239.5" y="134.5107">utility_hook</text><ellipse cx="281" cy="105.5156" fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="277,93.5156,283,88.5156,281,93.5156,283,98.5156,277,93.5156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="239.5" y="1654.2764">utility_hook</text><ellipse cx="281" cy="1673.5781" fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="277,1661.5781,283,1656.5781,281,1661.5781,283,1666.5781,277,1661.5781" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="412.5" y="134.5107">MessageBroker</text><ellipse cx="470" cy="105.5156" fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="466,93.5156,472,88.5156,470,93.5156,472,98.5156,466,93.5156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="412.5" y="1654.2764">MessageBroker</text><ellipse cx="470" cy="1673.5781" fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="466,1661.5781,472,1656.5781,470,1661.5781,472,1666.5781,466,1661.5781" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="537.5" y="134.5107">Message</text><ellipse cx="572" cy="105.5156" fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="560" x2="584" y1="119.5156" y2="119.5156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="537.5" y="1654.2764">Message</text><ellipse cx="572" cy="1673.5781" fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="560" x2="584" y1="1687.5781" y2="1687.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="616.5" y="1654.2764">CreateTable</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="627" y="1670.5732">Message</text><ellipse cx="661.5" cy="1689.875" fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="649.5" x2="673.5" y1="1703.875" y2="1703.875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="794.5" y="134.5107">Receiver</text><ellipse cx="827.5" cy="105.5156" fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="815.5" x2="839.5" y1="119.5156" y2="119.5156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="794.5" y="1654.2764">Receiver</text><ellipse cx="827.5" cy="1673.5781" fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="815.5" x2="839.5" y1="1687.5781" y2="1687.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="912" y="134.5107">tables</text><ellipse cx="936" cy="105.5156" fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="932,93.5156,938,88.5156,936,93.5156,938,98.5156,932,93.5156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="912" y="1654.2764">tables</text><ellipse cx="936" cy="1673.5781" fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="932,1661.5781,938,1656.5781,936,1661.5781,938,1666.5781,932,1661.5781" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="970" y="134.5107">metadata</text><path d="M987.5,85.5156 C987.5,75.5156 1005.5,75.5156 1005.5,75.5156 C1005.5,75.5156 1023.5,75.5156 1023.5,85.5156 L1023.5,111.5156 C1023.5,121.5156 1005.5,121.5156 1005.5,121.5156 C1005.5,121.5156 987.5,121.5156 987.5,111.5156 L987.5,85.5156 " fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M987.5,85.5156 C987.5,95.5156 1005.5,95.5156 1005.5,95.5156 C1005.5,95.5156 1023.5,95.5156 1023.5,85.5156 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="970" y="1654.2764">metadata</text><path d="M987.5,1667.5781 C987.5,1657.5781 1005.5,1657.5781 1005.5,1657.5781 C1005.5,1657.5781 1023.5,1657.5781 1023.5,1667.5781 L1023.5,1693.5781 C1023.5,1703.5781 1005.5,1703.5781 1005.5,1703.5781 C1005.5,1703.5781 987.5,1703.5781 987.5,1693.5781 L987.5,1667.5781 " fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M987.5,1667.5781 C987.5,1677.5781 1005.5,1677.5781 1005.5,1677.5781 C1005.5,1677.5781 1023.5,1677.5781 1023.5,1667.5781 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="1092.5" y="1654.2764">OLTP_Receiver</text><ellipse cx="1147" cy="1673.5781" fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1143,1661.5781,1149,1656.5781,1147,1661.5781,1149,1666.5781,1143,1661.5781" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="1255" y="134.5107">StubManager</text><ellipse cx="1304" cy="105.5156" fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1300,93.5156,1306,88.5156,1304,93.5156,1306,98.5156,1300,93.5156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="1255" y="1654.2764">StubManager</text><ellipse cx="1304" cy="1673.5781" fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1300,1661.5781,1306,1656.5781,1304,1661.5781,1306,1666.5781,1300,1661.5781" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="1363" y="1654.2764">stub::Transaction</text><ellipse cx="1427" cy="1673.5781" fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1423,1661.5781,1429,1656.5781,1427,1661.5781,1429,1666.5781,1423,1661.5781" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="131" x="1501" y="134.5107">ogawayama_server</text><ellipse cx="1569.5" cy="105.5156" fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1565.5,93.5156,1571.5,88.5156,1569.5,93.5156,1571.5,98.5156,1565.5,93.5156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="131" x="1501" y="1654.2764">ogawayama_server</text><ellipse cx="1569.5" cy="1673.5781" fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1565.5,1661.5781,1571.5,1656.5781,1569.5,1661.5781,1571.5,1666.5781,1565.5,1661.5781" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="1651" y="1654.2764">OLAP_Receiver</text><ellipse cx="1705.5" cy="1673.5781" fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1701.5,1661.5781,1707.5,1656.5781,1705.5,1661.5781,1707.5,1666.5781,1701.5,1661.5781" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="1450.3359" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="165" y="173.9453"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="1417.3359" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="276" y="192.9453"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="965.0859" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="465" y="631.1953"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="656.5" y="514.6641"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="656.5" y="572.9297"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="551.0234" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="656.5" y="659.1953"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="302.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="656.5" y="1266.2188"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="57.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="931" y="222.0781"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="57.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="931" y="947.6875"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="57.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="931" y="1413.0156"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1000.5" y="251.2109"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1000.5" y="976.8203"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1000.5" y="1442.1484"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="464.7578" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1142" y="717.4609"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="269.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1422" y="859.1563"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1564.5" y="1047.9531"/><rect fill="#FFFFFF" filter="url(#f1v7k9z3d6zdvx)" height="215.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1700.5" y="1324.4844"/><polygon fill="#A80036" points="153,169.9453,163,173.9453,153,177.9453,157,173.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="32" x2="159" y1="173.9453" y2="173.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="39" y="168.8794">テーブル定義要求()</text><path d="M180,152.8125 L180,177.8125 L307,177.8125 L307,162.8125 L297,152.8125 L180,152.8125 " fill="#FBFB77" filter="url(#f1v7k9z3d6zdvx)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M297,152.8125 L297,162.8125 L307,162.8125 L297,152.8125 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="186" y="169.8794">CREATE TABLE文</text><polygon fill="#A80036" points="264,188.9453,274,192.9453,264,196.9453,268,192.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="175" x2="270" y1="192.9453" y2="192.9453"/><polygon fill="#A80036" points="919,218.0781,929,222.0781,919,226.0781,923,222.0781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="286" x2="925" y1="222.0781" y2="222.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="293" y="217.0122">write meta-data</text><polygon fill="#A80036" points="988.5,247.2109,998.5,251.2109,988.5,255.2109,992.5,251.2109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="941" x2="994.5" y1="251.2109" y2="251.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="948" y="246.145">write</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="941" x2="951" y1="265.2109" y2="261.2109"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="941" x2="951" y1="265.2109" y2="269.2109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="941" x2="1004.5" y1="265.2109" y2="265.2109"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="286" x2="296" y1="279.2109" y2="275.2109"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="286" x2="296" y1="279.2109" y2="283.2109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="286" x2="935" y1="279.2109" y2="279.2109"/><polygon fill="#A80036" points="604.5,304.3438,614.5,308.3438,604.5,312.3438,608.5,308.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="286" x2="610.5" y1="308.3438" y2="308.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="293" y="303.2778">new</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="616.5" y="332.2061">CreateTable</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="627" y="348.5029">Message</text><ellipse cx="661.5" cy="303.2109" fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="649.5" x2="673.5" y1="317.2109" y2="317.2109"/><polygon fill="#A80036" points="1080.5,378.9375,1090.5,382.9375,1080.5,386.9375,1084.5,382.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="286" x2="1086.5" y1="382.9375" y2="382.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="293" y="377.8716">new</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="1092.5" y="406.7998">OLTP_Receiver</text><ellipse cx="1147" cy="377.8047" fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1143,365.8047,1149,360.8047,1147,365.8047,1149,370.8047,1143,365.8047" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1639,437.2344,1649,441.2344,1639,445.2344,1643,441.2344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="286" x2="1645" y1="441.2344" y2="441.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="293" y="436.1685">new</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="1651" y="465.0967">OLAP_Receiver</text><ellipse cx="1705.5" cy="436.1016" fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1701.5,424.1016,1707.5,419.1016,1705.5,424.1016,1707.5,429.1016,1701.5,424.1016" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="644.5,510.6641,654.5,514.6641,644.5,518.6641,648.5,514.6641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="286" x2="650.5" y1="514.6641" y2="514.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="293" y="494.4653">set_receiver</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="293" y="509.5981">(OLTP_Receiver)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="286" x2="296" y1="528.6641" y2="524.6641"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="286" x2="296" y1="528.6641" y2="532.6641"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="286" x2="660.5" y1="528.6641" y2="528.6641"/><polygon fill="#A80036" points="644.5,568.9297,654.5,572.9297,644.5,576.9297,648.5,572.9297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="286" x2="650.5" y1="572.9297" y2="572.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="293" y="552.731">set_receiver</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="293" y="567.8638">(OLAP_Receiver)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="286" x2="296" y1="586.9297" y2="582.9297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="286" x2="296" y1="586.9297" y2="590.9297"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="286" x2="660.5" y1="586.9297" y2="586.9297"/><polygon fill="#A80036" points="453,627.1953,463,631.1953,453,635.1953,457,631.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="286" x2="459" y1="631.1953" y2="631.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="293" y="610.9966">send_message</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="293" y="626.1294">(CreateTableMessage)</text><polygon fill="#A80036" points="560,641.1953,570,645.1953,560,649.1953,564,645.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="475" x2="566" y1="645.1953" y2="645.1953"/><polygon fill="#A80036" points="644.5,655.1953,654.5,659.1953,644.5,663.1953,648.5,659.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="572" x2="650.5" y1="659.1953" y2="659.1953"/><polygon fill="#A80036" points="815.5,699.4609,825.5,703.4609,815.5,707.4609,819.5,703.4609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="666.5" x2="821.5" y1="703.4609" y2="703.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="673.5" y="683.2622">receive_message</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="673.5" y="698.395">(Message *message)</text><polygon fill="#A80036" points="1130,713.4609,1140,717.4609,1130,721.4609,1134,717.4609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="827.5" x2="1136" y1="717.4609" y2="717.4609"/><polygon fill="#A80036" points="1351,742.5938,1361,746.5938,1351,750.5938,1355,746.5938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1152" x2="1357" y1="746.5938" y2="746.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="1159" y="741.5278">new</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="1363" y="770.4561">stub::Transaction</text><ellipse cx="1427" cy="741.4609" fill="#FEFECE" filter="url(#f1v7k9z3d6zdvx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1423,729.4609,1429,724.4609,1427,729.4609,1429,734.4609,1423,729.4609" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1292,813.457,1302,817.457,1292,821.457,1296,817.457" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1152" x2="1298" y1="817.457" y2="817.457"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="1159" y="812.3911">begin(&amp;transaction)</text><path d="M1309,788.7578 L1309,828.7578 L1577,828.7578 L1577,798.7578 L1567,788.7578 L1309,788.7578 " fill="#FBFB77" filter="url(#f1v7k9z3d6zdvx)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1567,788.7578 L1567,798.7578 L1577,798.7578 L1567,788.7578 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="247" x="1315" y="805.8247">connection = Stub-&gt;get_connection();</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="226" x="1315" y="820.9575">transaction = connection-&gt;begin();</text><polygon fill="#A80036" points="1410,855.1563,1420,859.1563,1410,863.1563,1414,859.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1152" x2="1416" y1="859.1563" y2="859.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="196" x="1159" y="854.0903">message(Message *message)</text><polygon fill="#A80036" points="677.5,914.5547,667.5,918.5547,677.5,922.5547,673.5,918.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="671.5" x2="1421" y1="918.5547" y2="918.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="683.5" y="883.2231">collect_data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="683.5" y="898.356">(property_tree&amp; table,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="687.5" y="913.4888">property_tree&amp; datatypes)</text><polygon fill="#A80036" points="919,943.6875,929,947.6875,919,951.6875,923,947.6875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="666.5" x2="925" y1="947.6875" y2="947.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="673.5" y="942.6216">read metadata</text><polygon fill="#A80036" points="988.5,972.8203,998.5,976.8203,988.5,980.8203,992.5,976.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="941" x2="994.5" y1="976.8203" y2="976.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="948" y="971.7544">read</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="941" x2="951" y1="990.8203" y2="986.8203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="941" x2="951" y1="990.8203" y2="994.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="941" x2="1004.5" y1="990.8203" y2="990.8203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="666.5" x2="676.5" y1="1004.8203" y2="1000.8203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="666.5" x2="676.5" y1="1004.8203" y2="1008.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="666.5" x2="935" y1="1004.8203" y2="1004.8203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1420" x2="1410" y1="1018.8203" y2="1014.8203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1420" x2="1410" y1="1018.8203" y2="1022.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="666.5" x2="1421" y1="1018.8203" y2="1018.8203"/><polygon fill="#A80036" points="1552.5,1043.9531,1562.5,1047.9531,1552.5,1051.9531,1556.5,1047.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1432" x2="1558.5" y1="1047.9531" y2="1047.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="1439" y="1042.8872">CREATE TABLE</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1432" x2="1442" y1="1061.9531" y2="1057.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1432" x2="1442" y1="1061.9531" y2="1065.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1432" x2="1568.5" y1="1061.9531" y2="1061.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1152" x2="1162" y1="1075.9531" y2="1071.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1152" x2="1162" y1="1075.9531" y2="1079.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1152" x2="1421" y1="1075.9531" y2="1075.9531"/><polygon fill="#A80036" points="1410,1106.0859,1420,1110.0859,1410,1114.0859,1414,1110.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1152" x2="1416" y1="1110.0859" y2="1110.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="1159" y="1105.02">commit()</text><path d="M1437,1088.9531 L1437,1113.9531 L1605,1113.9531 L1605,1098.9531 L1595,1088.9531 L1437,1088.9531 " fill="#FBFB77" filter="url(#f1v7k9z3d6zdvx)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1595,1088.9531 L1595,1098.9531 L1605,1098.9531 L1595,1088.9531 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="1443" y="1106.02">transaction-&gt;commit()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1152" x2="1162" y1="1129.0859" y2="1125.0859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1152" x2="1162" y1="1129.0859" y2="1133.0859"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1152" x2="1426" y1="1129.0859" y2="1129.0859"/><polygon fill="#A80036" points="1292,1159.2188,1302,1163.2188,1292,1167.2188,1296,1163.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1152" x2="1298" y1="1163.2188" y2="1163.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="1159" y="1158.1528">end()</text><path d="M1309,1142.0859 L1309,1167.0859 L1854,1167.0859 L1854,1152.0859 L1844,1142.0859 L1309,1142.0859 " fill="#FBFB77" filter="url(#f1v7k9z3d6zdvx)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1844,1142.0859 L1844,1152.0859 L1854,1152.0859 L1844,1142.0859 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="524" x="1315" y="1159.1528">結果セット（rs）の開放とコネクション（connection）の切断（と関連リソースの開放）</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="827.5" x2="837.5" y1="1182.2188" y2="1178.2188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="827.5" x2="837.5" y1="1182.2188" y2="1186.2188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="827.5" x2="1146" y1="1182.2188" y2="1182.2188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="666.5" x2="676.5" y1="1196.2188" y2="1192.2188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="666.5" x2="676.5" y1="1196.2188" y2="1200.2188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="666.5" x2="826.5" y1="1196.2188" y2="1196.2188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="572" x2="582" y1="1210.2188" y2="1206.2188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="572" x2="582" y1="1210.2188" y2="1214.2188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="572" x2="660.5" y1="1210.2188" y2="1210.2188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="475" x2="485" y1="1224.2188" y2="1220.2188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="475" x2="485" y1="1224.2188" y2="1228.2188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="475" x2="571" y1="1224.2188" y2="1224.2188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="286" x2="296" y1="1238.2188" y2="1234.2188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="286" x2="296" y1="1238.2188" y2="1242.2188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="286" x2="464" y1="1238.2188" y2="1238.2188"/><polygon fill="#A80036" points="560,1248.2188,570,1252.2188,560,1256.2188,564,1252.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="475" x2="566" y1="1252.2188" y2="1252.2188"/><polygon fill="#A80036" points="644.5,1262.2188,654.5,1266.2188,644.5,1270.2188,648.5,1266.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="572" x2="650.5" y1="1266.2188" y2="1266.2188"/><polygon fill="#A80036" points="815.5,1306.4844,825.5,1310.4844,815.5,1314.4844,819.5,1310.4844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="666.5" x2="821.5" y1="1310.4844" y2="1310.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="673.5" y="1290.2856">receive_message</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="673.5" y="1305.4185">(Message *message)</text><polygon fill="#A80036" points="1688.5,1320.4844,1698.5,1324.4844,1688.5,1328.4844,1692.5,1324.4844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="827.5" x2="1694.5" y1="1324.4844" y2="1324.4844"/><polygon fill="#A80036" points="677.5,1379.8828,667.5,1383.8828,677.5,1387.8828,673.5,1383.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="671.5" x2="1699.5" y1="1383.8828" y2="1383.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="683.5" y="1348.5513">collect_data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="683.5" y="1363.6841">(property_tree&amp; table,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="687.5" y="1378.8169">property_tree&amp; datatypes)</text><polygon fill="#A80036" points="919,1409.0156,929,1413.0156,919,1417.0156,923,1413.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="666.5" x2="925" y1="1413.0156" y2="1413.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="673.5" y="1407.9497">read metadata</text><polygon fill="#A80036" points="988.5,1438.1484,998.5,1442.1484,988.5,1446.1484,992.5,1442.1484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="941" x2="994.5" y1="1442.1484" y2="1442.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="948" y="1437.0825">read</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="941" x2="951" y1="1456.1484" y2="1452.1484"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="941" x2="951" y1="1456.1484" y2="1460.1484"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="941" x2="1004.5" y1="1456.1484" y2="1456.1484"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="666.5" x2="676.5" y1="1470.1484" y2="1466.1484"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="666.5" x2="676.5" y1="1470.1484" y2="1474.1484"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="666.5" x2="935" y1="1470.1484" y2="1470.1484"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1698.5" x2="1688.5" y1="1484.1484" y2="1480.1484"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1698.5" x2="1688.5" y1="1484.1484" y2="1488.1484"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="666.5" x2="1699.5" y1="1484.1484" y2="1484.1484"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1710.5" x2="1752.5" y1="1513.2813" y2="1513.2813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1752.5" x2="1752.5" y1="1513.2813" y2="1526.2813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1711.5" x2="1752.5" y1="1526.2813" y2="1526.2813"/><polygon fill="#A80036" points="1721.5,1522.2813,1711.5,1526.2813,1721.5,1530.2813,1717.5,1526.2813" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="1717.5" y="1508.2153">CREATE TABLE</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="827.5" x2="837.5" y1="1540.2813" y2="1536.2813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="827.5" x2="837.5" y1="1540.2813" y2="1544.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="827.5" x2="1704.5" y1="1540.2813" y2="1540.2813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="666.5" x2="676.5" y1="1554.2813" y2="1550.2813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="666.5" x2="676.5" y1="1554.2813" y2="1558.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="666.5" x2="826.5" y1="1554.2813" y2="1554.2813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="572" x2="582" y1="1568.2813" y2="1564.2813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="572" x2="582" y1="1568.2813" y2="1572.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="572" x2="660.5" y1="1568.2813" y2="1568.2813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="475" x2="485" y1="1582.2813" y2="1578.2813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="475" x2="485" y1="1582.2813" y2="1586.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="475" x2="571" y1="1582.2813" y2="1582.2813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="286" x2="296" y1="1596.2813" y2="1592.2813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="286" x2="296" y1="1596.2813" y2="1600.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="286" x2="469" y1="1596.2813" y2="1596.2813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="175" x2="185" y1="1610.2813" y2="1606.2813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="175" x2="185" y1="1610.2813" y2="1614.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="175" x2="280" y1="1610.2813" y2="1610.2813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="32" x2="42" y1="1624.2813" y2="1620.2813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="32" x2="42" y1="1624.2813" y2="1628.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="32" x2="169" y1="1624.2813" y2="1624.2813"/><!--MD5=[ca7e78a0c70103f42051bc77f72ddb38]
@startuml テーブル定義シーケンス詳細案2

title テーブル定義シーケンス詳細案2

actor 利用者
boundary PostgreSQL

box "コンポーネント名：\nfrontend" #LightSkyBlue
control utility_hook
end box

box "コンポーネント名：\nmanager/message-broker" #LightGreen
control MessageBroker
entity Message
entity "CreateTable\nMessage" as concrete_message
entity Receiver
end box

box "コンポーネント名：\nmanager/metadata-manager" #GreenYellow
control tables
database metadata
end box

box "コンポーネント名：\nfrontend" #LightSkyBlue
control "OLTP_Receiver" as oltp_receiver
control StubManager
end box

box "コンポーネント名：\nogawayama" #LightYellow
control "stub::Transaction" as tran
control ogawayama_server
end box

box "コンポーネント名：\nolap" #LightPink
control "OLAP_Receiver" as olap_receiver
end box


利用者 -> PostgreSQL : テーブル定義要求()
activate PostgreSQL
note right
CREATE TABLE文
end note

PostgreSQL -> utility_hook
activate utility_hook
  ' write meta-data
  utility_hook -> tables : write meta-data
  activate tables
    tables -> metadata : write
    activate metadata
    tables <<- - metadata
    deactivate metadata
    utility_hook <<- - tables
  deactivate tables

  ' create objects
  create concrete_message
  utility_hook -> concrete_message : new
  create oltp_receiver
  utility_hook -> oltp_receiver : new
  create olap_receiver
  utility_hook -> olap_receiver : new

  ' set receiver
  utility_hook -> concrete_message : set_receiver\n(OLTP_Receiver)
  activate concrete_message
    utility_hook <<- - concrete_message
  deactivate concrete_message
  utility_hook -> concrete_message : set_receiver\n(OLAP_Receiver)
  activate concrete_message
    utility_hook <<- - concrete_message
  deactivate concrete_message

  ' send message to MessageBroker
  utility_hook -> MessageBroker : send_message\n(CreateTableMessage)
  activate MessageBroker

  ' execute command
  MessageBroker -> Message
  Message -> concrete_message
  activate concrete_message
    concrete_message -> Receiver : receive_message\n(Message *message)
    Receiver -> oltp_receiver

  ' begin transaction
  create tran
  activate oltp_receiver
  oltp_receiver -> tran : new
  oltp_receiver -> StubManager : begin(&transaction)
  note right
  connection = Stub->get_connection();
  transaction = connection->begin();
  end note
  oltp_receiver -> tran : message(Message *message)
  activate tran
    tran -> concrete_message : collect_data\n(property_tree& table,\n property_tree& datatypes)
    concrete_message -> tables : read metadata
      activate tables
      tables -> metadata : read
      activate metadata
      tables <<- - metadata
      deactivate metadata
      concrete_message <<- - tables
      deactivate tables
        tran <<- - concrete_message
        tran -> ogawayama_server : CREATE TABLE
          activate ogawayama_server
            tran <<- - ogawayama_server
          deactivate ogawayama_server
        oltp_receiver <<- - tran
        oltp_receiver -> tran : commit()
        note right
        transaction->commit()
        end note
        oltp_receiver <<- - tran
      deactivate tran
    oltp_receiver -> StubManager : end()
    note right
    結果セット（rs）の開放とコネクション（connection）の切断（と関連リソースの開放）
    end note
    Receiver <<- - oltp_receiver
    deactivate oltp_receiver
    concrete_message <<- - Receiver
  Message <<- - concrete_message
  deactivate concrete_message
  MessageBroker <<- - Message
  utility_hook <<- - MessageBroker
  MessageBroker -> Message
  Message -> concrete_message
  activate concrete_message
    concrete_message -> Receiver : receive_message\n(Message *message)
    Receiver -> olap_receiver
    activate olap_receiver
      olap_receiver -> concrete_message: collect_data\n(property_tree& table,\n property_tree& datatypes)
      concrete_message -> tables: read metadata
      activate tables
      tables -> metadata : read
      activate metadata
      tables <<- - metadata
      deactivate metadata
      concrete_message <<- - tables
      deactivate tables
      olap_receiver <<- - concrete_message
      olap_receiver -> olap_receiver : CREATE TABLE
      Receiver <<- - olap_receiver
      deactivate olap_receiver
      concrete_message <<- - Receiver
  Message <<- - concrete_message
  deactivate concrete_message
  MessageBroker <<- - Message
  utility_hook <<- - MessageBroker
  deactivate MessageBroker
PostgreSQL <<- - utility_hook
deactivate utility_hook
利用者 <<- - PostgreSQL
deactivate PostgreSQL

@enduml

@startuml テーブル定義シーケンス詳細案2

title テーブル定義シーケンス詳細案2

actor 利用者
boundary PostgreSQL

box "コンポーネント名：\nfrontend" #LightSkyBlue
control utility_hook
end box

box "コンポーネント名：\nmanager/message-broker" #LightGreen
control MessageBroker
entity Message
entity "CreateTable\nMessage" as concrete_message
entity Receiver
end box

box "コンポーネント名：\nmanager/metadata-manager" #GreenYellow
control tables
database metadata
end box

box "コンポーネント名：\nfrontend" #LightSkyBlue
control "OLTP_Receiver" as oltp_receiver
control StubManager
end box

box "コンポーネント名：\nogawayama" #LightYellow
control "stub::Transaction" as tran
control ogawayama_server
end box

box "コンポーネント名：\nolap" #LightPink
control "OLAP_Receiver" as olap_receiver
end box


利用者 -> PostgreSQL : テーブル定義要求()
activate PostgreSQL
note right
CREATE TABLE文
end note

PostgreSQL -> utility_hook
activate utility_hook
  utility_hook -> tables : write meta-data
  activate tables
    tables -> metadata : write
    activate metadata
    tables <<- - metadata
    deactivate metadata
    utility_hook <<- - tables
  deactivate tables

  create concrete_message
  utility_hook -> concrete_message : new
  create oltp_receiver
  utility_hook -> oltp_receiver : new
  create olap_receiver
  utility_hook -> olap_receiver : new

  utility_hook -> concrete_message : set_receiver\n(OLTP_Receiver)
  activate concrete_message
    utility_hook <<- - concrete_message
  deactivate concrete_message
  utility_hook -> concrete_message : set_receiver\n(OLAP_Receiver)
  activate concrete_message
    utility_hook <<- - concrete_message
  deactivate concrete_message

  utility_hook -> MessageBroker : send_message\n(CreateTableMessage)
  activate MessageBroker

  MessageBroker -> Message
  Message -> concrete_message
  activate concrete_message
    concrete_message -> Receiver : receive_message\n(Message *message)
    Receiver -> oltp_receiver

  create tran
  activate oltp_receiver
  oltp_receiver -> tran : new
  oltp_receiver -> StubManager : begin(&transaction)
  note right
  connection = Stub->get_connection();
  transaction = connection->begin();
  end note
  oltp_receiver -> tran : message(Message *message)
  activate tran
    tran -> concrete_message : collect_data\n(property_tree& table,\n property_tree& datatypes)
    concrete_message -> tables : read metadata
      activate tables
      tables -> metadata : read
      activate metadata
      tables <<- - metadata
      deactivate metadata
      concrete_message <<- - tables
      deactivate tables
        tran <<- - concrete_message
        tran -> ogawayama_server : CREATE TABLE
          activate ogawayama_server
            tran <<- - ogawayama_server
          deactivate ogawayama_server
        oltp_receiver <<- - tran
        oltp_receiver -> tran : commit()
        note right
        transaction->commit()
        end note
        oltp_receiver <<- - tran
      deactivate tran
    oltp_receiver -> StubManager : end()
    note right
    結果セット（rs）の開放とコネクション（connection）の切断（と関連リソースの開放）
    end note
    Receiver <<- - oltp_receiver
    deactivate oltp_receiver
    concrete_message <<- - Receiver
  Message <<- - concrete_message
  deactivate concrete_message
  MessageBroker <<- - Message
  utility_hook <<- - MessageBroker
  MessageBroker -> Message
  Message -> concrete_message
  activate concrete_message
    concrete_message -> Receiver : receive_message\n(Message *message)
    Receiver -> olap_receiver
    activate olap_receiver
      olap_receiver -> concrete_message: collect_data\n(property_tree& table,\n property_tree& datatypes)
      concrete_message -> tables: read metadata
      activate tables
      tables -> metadata : read
      activate metadata
      tables <<- - metadata
      deactivate metadata
      concrete_message <<- - tables
      deactivate tables
      olap_receiver <<- - concrete_message
      olap_receiver -> olap_receiver : CREATE TABLE
      Receiver <<- - olap_receiver
      deactivate olap_receiver
      concrete_message <<- - Receiver
  Message <<- - concrete_message
  deactivate concrete_message
  MessageBroker <<- - Message
  utility_hook <<- - MessageBroker
  deactivate MessageBroker
PostgreSQL <<- - utility_hook
deactivate utility_hook
利用者 <<- - PostgreSQL
deactivate PostgreSQL

@enduml

PlantUML version 1.2020.10(Sun May 17 09:35:57 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_252-8u252-b09-1~18.04-b09
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>