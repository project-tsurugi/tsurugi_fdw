<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1686px" preserveAspectRatio="none" style="width:1703px;height:1686px;" version="1.1" viewBox="0 0 1703 1686" width="1703px" zoomAndPan="magnify"><defs><filter height="300%" id="f1pordlsfo393a" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="274" x="717.75" y="26.708">テーブル定義シーケンス詳細案1b</text><rect fill="#87CEFA" height="1636.4609" style="stroke: #A80036; stroke-width: 1.0;" width="255.5" x="219.5" y="38.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="288.75" y="51.02">コンポーネント名：</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="64" x="315.25" y="66.1528">frontend</text><rect fill="#90EE90" height="1636.4609" style="stroke: #A80036; stroke-width: 1.0;" width="456" x="477" y="38.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="646.5" y="51.02">コンポーネント名：</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="192" x="609" y="66.1528">manager/message-broker</text><rect fill="#ADFF2F" height="1636.4609" style="stroke: #A80036; stroke-width: 1.0;" width="220" x="935" y="38.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="986.5" y="51.02">コンポーネント名：</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="214" x="938" y="66.1528">manager/metadata-manager</text><rect fill="#FFFFE0" height="1636.4609" style="stroke: #A80036; stroke-width: 1.0;" width="366" x="1157" y="38.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="1281.5" y="51.02">コンポーネント名：</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="89" x="1295.5" y="66.1528">ogawayama</text><rect fill="#FFB6C1" height="1636.4609" style="stroke: #A80036; stroke-width: 1.0;" width="123" x="1525" y="38.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="1528" y="51.02">コンポーネント名：</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="39" x="1567" y="66.1528">OLAP</text><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="1397.1719" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="165" y="173.9453"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="1364.1719" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="260" y="192.9453"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="756.2578" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="533.5" y="786.8594"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="725" y="670.3281"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="725" y="728.5938"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="303.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="725" y="814.8594"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="302.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="725" y="1213.0547"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="57.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="999.5" y="222.0781"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="57.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="999.5" y="961.6563"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="71.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="999.5" y="1359.8516"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1069" y="251.2109"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1069" y="990.7891"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1069" y="1388.9844"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="130.5625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1220" y="495.5"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="216.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1348.5" y="873.125"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="87.4297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1470.5" y="524.6328"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1470.5" y="1061.9219"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="215.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1581.5" y="1271.3203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="32" x2="32" y1="137.8125" y2="1589.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="169.5" x2="169.5" y1="137.8125" y2="1589.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="264.5" x2="264.5" y1="137.8125" y2="1589.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="422" x2="422" y1="137.8125" y2="1589.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="538" x2="538" y1="137.8125" y2="1589.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="640" x2="640" y1="137.8125" y2="1589.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="730" x2="730" y1="334.5078" y2="1589.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="896" x2="896" y1="137.8125" y2="1589.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1004.5" x2="1004.5" y1="137.8125" y2="1589.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1073.5" x2="1073.5" y1="137.8125" y2="1589.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1225" x2="1225" y1="137.8125" y2="1589.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1353" x2="1353" y1="571.7813" y2="1589.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1475" x2="1475" y1="137.8125" y2="1589.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1586" x2="1586" y1="400.9531" y2="1589.1172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="8" y="134.5107">利用者</text><ellipse cx="32" cy="64.5156" fill="#FEFECE" filter="url(#f1pordlsfo393a)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M32,72.5156 L32,99.5156 M19,80.5156 L45,80.5156 M32,99.5156 L19,114.5156 M32,99.5156 L45,114.5156 " fill="none" filter="url(#f1pordlsfo393a)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="8" y="1601.1123">利用者</text><ellipse cx="32" cy="1614.4141" fill="#FEFECE" filter="url(#f1pordlsfo393a)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M32,1622.4141 L32,1649.4141 M19,1630.4141 L45,1630.4141 M32,1649.4141 L19,1664.4141 M32,1649.4141 L45,1664.4141 " fill="none" filter="url(#f1pordlsfo393a)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="126.5" y="134.5107">PostgreSQL</text><path d="M149.5,93.5156 L149.5,117.5156 M149.5,105.5156 L166.5,105.5156 " fill="none" filter="url(#f1pordlsfo393a)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="178.5" cy="105.5156" fill="#FEFECE" filter="url(#f1pordlsfo393a)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="126.5" y="1601.1123">PostgreSQL</text><path d="M149.5,1608.4141 L149.5,1632.4141 M149.5,1620.4141 L166.5,1620.4141 " fill="none" filter="url(#f1pordlsfo393a)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="178.5" cy="1620.4141" fill="#FEFECE" filter="url(#f1pordlsfo393a)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="223.5" y="134.5107">utility_hook</text><ellipse cx="265" cy="105.5156" fill="#FEFECE" filter="url(#f1pordlsfo393a)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="261,93.5156,267,88.5156,265,93.5156,267,98.5156,261,93.5156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="223.5" y="1601.1123">utility_hook</text><ellipse cx="265" cy="1620.4141" fill="#FEFECE" filter="url(#f1pordlsfo393a)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="261,1608.4141,267,1603.4141,265,1608.4141,267,1613.4141,261,1608.4141" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="373" y="134.5107">StubManager</text><ellipse cx="422" cy="105.5156" fill="#FEFECE" filter="url(#f1pordlsfo393a)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="418,93.5156,424,88.5156,422,93.5156,424,98.5156,418,93.5156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="373" y="1601.1123">StubManager</text><ellipse cx="422" cy="1620.4141" fill="#FEFECE" filter="url(#f1pordlsfo393a)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="418,1608.4141,424,1603.4141,422,1608.4141,424,1613.4141,418,1608.4141" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="481" y="134.5107">MessageBroker</text><ellipse cx="538.5" cy="105.5156" fill="#FEFECE" filter="url(#f1pordlsfo393a)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="534.5,93.5156,540.5,88.5156,538.5,93.5156,540.5,98.5156,534.5,93.5156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="481" y="1601.1123">MessageBroker</text><ellipse cx="538.5" cy="1620.4141" fill="#FEFECE" filter="url(#f1pordlsfo393a)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="534.5,1608.4141,540.5,1603.4141,538.5,1608.4141,540.5,1613.4141,534.5,1608.4141" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="606" y="134.5107">Message</text><ellipse cx="640.5" cy="105.5156" fill="#FEFECE" filter="url(#f1pordlsfo393a)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="628.5" x2="652.5" y1="119.5156" y2="119.5156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="606" y="1601.1123">Message</text><ellipse cx="640.5" cy="1620.4141" fill="#FEFECE" filter="url(#f1pordlsfo393a)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="628.5" x2="652.5" y1="1634.4141" y2="1634.4141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="685" y="1601.1123">CreateTable</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="695.5" y="1617.4092">Message</text><ellipse cx="730" cy="1636.7109" fill="#FEFECE" filter="url(#f1pordlsfo393a)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="718" x2="742" y1="1650.7109" y2="1650.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="863" y="134.5107">Receiver</text><ellipse cx="896" cy="105.5156" fill="#FEFECE" filter="url(#f1pordlsfo393a)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="884" x2="908" y1="119.5156" y2="119.5156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="863" y="1601.1123">Receiver</text><ellipse cx="896" cy="1620.4141" fill="#FEFECE" filter="url(#f1pordlsfo393a)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="884" x2="908" y1="1634.4141" y2="1634.4141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="980.5" y="134.5107">tables</text><ellipse cx="1004.5" cy="105.5156" fill="#FEFECE" filter="url(#f1pordlsfo393a)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1000.5,93.5156,1006.5,88.5156,1004.5,93.5156,1006.5,98.5156,1000.5,93.5156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="980.5" y="1601.1123">tables</text><ellipse cx="1004.5" cy="1620.4141" fill="#FEFECE" filter="url(#f1pordlsfo393a)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1000.5,1608.4141,1006.5,1603.4141,1004.5,1608.4141,1006.5,1613.4141,1000.5,1608.4141" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="1038.5" y="134.5107">metadata</text><path d="M1056,85.5156 C1056,75.5156 1074,75.5156 1074,75.5156 C1074,75.5156 1092,75.5156 1092,85.5156 L1092,111.5156 C1092,121.5156 1074,121.5156 1074,121.5156 C1074,121.5156 1056,121.5156 1056,111.5156 L1056,85.5156 " fill="#FEFECE" filter="url(#f1pordlsfo393a)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1056,85.5156 C1056,95.5156 1074,95.5156 1074,95.5156 C1074,95.5156 1092,95.5156 1092,85.5156 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="1038.5" y="1601.1123">metadata</text><path d="M1056,1614.4141 C1056,1604.4141 1074,1604.4141 1074,1604.4141 C1074,1604.4141 1092,1604.4141 1092,1614.4141 L1092,1640.4141 C1092,1650.4141 1074,1650.4141 1074,1650.4141 C1074,1650.4141 1056,1650.4141 1056,1640.4141 L1056,1614.4141 " fill="#FEFECE" filter="url(#f1pordlsfo393a)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1056,1614.4141 C1056,1624.4141 1074,1624.4141 1074,1624.4141 C1074,1624.4141 1092,1624.4141 1092,1614.4141 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="1161" y="134.5107">stub::Transaction</text><ellipse cx="1225" cy="105.5156" fill="#FEFECE" filter="url(#f1pordlsfo393a)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1221,93.5156,1227,88.5156,1225,93.5156,1227,98.5156,1221,93.5156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="1161" y="1601.1123">stub::Transaction</text><ellipse cx="1225" cy="1620.4141" fill="#FEFECE" filter="url(#f1pordlsfo393a)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1221,1608.4141,1227,1603.4141,1225,1608.4141,1227,1613.4141,1221,1608.4141" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="1299" y="1601.1123">OLTP_Receiver</text><ellipse cx="1353.5" cy="1620.4141" fill="#FEFECE" filter="url(#f1pordlsfo393a)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1349.5,1608.4141,1355.5,1603.4141,1353.5,1608.4141,1355.5,1613.4141,1349.5,1608.4141" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="1432" y="134.5107">ogawayama</text><ellipse cx="1475.5" cy="105.5156" fill="#FEFECE" filter="url(#f1pordlsfo393a)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1471.5,93.5156,1477.5,88.5156,1475.5,93.5156,1477.5,98.5156,1471.5,93.5156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="1432" y="1601.1123">ogawayama</text><ellipse cx="1475.5" cy="1620.4141" fill="#FEFECE" filter="url(#f1pordlsfo393a)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1471.5,1608.4141,1477.5,1603.4141,1475.5,1608.4141,1477.5,1613.4141,1471.5,1608.4141" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="1532" y="1601.1123">OLAP_Receiver</text><ellipse cx="1586.5" cy="1620.4141" fill="#FEFECE" filter="url(#f1pordlsfo393a)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1582.5,1608.4141,1588.5,1603.4141,1586.5,1608.4141,1588.5,1613.4141,1582.5,1608.4141" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="1397.1719" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="165" y="173.9453"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="1364.1719" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="260" y="192.9453"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="756.2578" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="533.5" y="786.8594"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="725" y="670.3281"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="725" y="728.5938"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="303.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="725" y="814.8594"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="302.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="725" y="1213.0547"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="57.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="999.5" y="222.0781"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="57.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="999.5" y="961.6563"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="71.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="999.5" y="1359.8516"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1069" y="251.2109"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1069" y="990.7891"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1069" y="1388.9844"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="130.5625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1220" y="495.5"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="216.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1348.5" y="873.125"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="87.4297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1470.5" y="524.6328"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1470.5" y="1061.9219"/><rect fill="#FFFFFF" filter="url(#f1pordlsfo393a)" height="215.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1581.5" y="1271.3203"/><polygon fill="#A80036" points="153,169.9453,163,173.9453,153,177.9453,157,173.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="32" x2="159" y1="173.9453" y2="173.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="39" y="168.8794">テーブル定義要求()</text><path d="M180,152.8125 L180,177.8125 L307,177.8125 L307,162.8125 L297,152.8125 L180,152.8125 " fill="#FBFB77" filter="url(#f1pordlsfo393a)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M297,152.8125 L297,162.8125 L307,162.8125 L297,152.8125 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="186" y="169.8794">CREATE TABLE文</text><polygon fill="#A80036" points="248,188.9453,258,192.9453,248,196.9453,252,192.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="175" x2="254" y1="192.9453" y2="192.9453"/><polygon fill="#A80036" points="987.5,218.0781,997.5,222.0781,987.5,226.0781,991.5,222.0781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="993.5" y1="222.0781" y2="222.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="277" y="217.0122">write meta-data</text><polygon fill="#A80036" points="1057,247.2109,1067,251.2109,1057,255.2109,1061,251.2109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1009.5" x2="1063" y1="251.2109" y2="251.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="1016.5" y="246.145">write</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1009.5" x2="1019.5" y1="265.2109" y2="261.2109"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1009.5" x2="1019.5" y1="265.2109" y2="269.2109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1009.5" x2="1073" y1="265.2109" y2="265.2109"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="280" y1="279.2109" y2="275.2109"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="280" y1="279.2109" y2="283.2109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="270" x2="1003.5" y1="279.2109" y2="279.2109"/><polygon fill="#A80036" points="673,304.3438,683,308.3438,673,312.3438,677,308.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="679" y1="308.3438" y2="308.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="277" y="303.2778">new</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="685" y="332.2061">CreateTable</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="695.5" y="348.5029">Message</text><ellipse cx="730" cy="303.2109" fill="#FEFECE" filter="url(#f1pordlsfo393a)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="718" x2="742" y1="317.2109" y2="317.2109"/><polygon fill="#A80036" points="1520,378.9375,1530,382.9375,1520,386.9375,1524,382.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="1526" y1="382.9375" y2="382.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="277" y="377.8716">new</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="1532" y="406.7998">OLAP_Receiver</text><ellipse cx="1586.5" cy="377.8047" fill="#FEFECE" filter="url(#f1pordlsfo393a)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1582.5,365.8047,1588.5,360.8047,1586.5,365.8047,1588.5,370.8047,1582.5,365.8047" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="410,449.8008,420,453.8008,410,457.8008,414,453.8008" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="416" y1="453.8008" y2="453.8008"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="277" y="448.7349">begin(&amp;transaction)</text><path d="M427,425.1016 L427,465.1016 L695,465.1016 L695,435.1016 L685,425.1016 L427,425.1016 " fill="#FBFB77" filter="url(#f1pordlsfo393a)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M685,425.1016 L685,435.1016 L695,435.1016 L685,425.1016 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="247" x="433" y="442.1685">connection = Stub-&gt;get_connection();</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="226" x="433" y="457.3013">transaction = connection-&gt;begin();</text><polygon fill="#A80036" points="1208,491.5,1218,495.5,1208,499.5,1212,495.5" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="1214" y1="495.5" y2="495.5"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="277" y="490.4341">get_receiver()</text><polygon fill="#A80036" points="1458.5,520.6328,1468.5,524.6328,1458.5,528.6328,1462.5,524.6328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1230" x2="1464.5" y1="524.6328" y2="524.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="1237" y="519.5669">get_receiver()</text><polygon fill="#A80036" points="1419,549.7656,1409,553.7656,1419,557.7656,1415,553.7656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1413" x2="1469.5" y1="553.7656" y2="553.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="1425" y="548.6997">new</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="1299" y="577.6279">OLTP_Receiver</text><ellipse cx="1353.5" cy="548.6328" fill="#FEFECE" filter="url(#f1pordlsfo393a)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1349.5,536.6328,1355.5,531.6328,1353.5,536.6328,1355.5,541.6328,1349.5,536.6328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1230" x2="1240" y1="612.0625" y2="608.0625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1230" x2="1240" y1="612.0625" y2="616.0625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1230" x2="1474.5" y1="612.0625" y2="612.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="1247" y="606.9966">OLTP_Receiver</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="280" y1="626.0625" y2="622.0625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="280" y1="626.0625" y2="630.0625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="270" x2="1224" y1="626.0625" y2="626.0625"/><polygon fill="#A80036" points="713,666.3281,723,670.3281,713,674.3281,717,670.3281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="719" y1="670.3281" y2="670.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="277" y="650.1294">set_receiver</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="277" y="665.2622">(OLTP_Receiver)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="280" y1="684.3281" y2="680.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="280" y1="684.3281" y2="688.3281"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="270" x2="729" y1="684.3281" y2="684.3281"/><polygon fill="#A80036" points="713,724.5938,723,728.5938,713,732.5938,717,728.5938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="719" y1="728.5938" y2="728.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="277" y="708.395">set_receiver</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="277" y="723.5278">(OLAP_Receiver)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="280" y1="742.5938" y2="738.5938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="280" y1="742.5938" y2="746.5938"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="270" x2="729" y1="742.5938" y2="742.5938"/><polygon fill="#A80036" points="521.5,782.8594,531.5,786.8594,521.5,790.8594,525.5,786.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="527.5" y1="786.8594" y2="786.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="277" y="766.6606">send_message</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="277" y="781.7935">(CreateTableMessage)</text><polygon fill="#A80036" points="628.5,796.8594,638.5,800.8594,628.5,804.8594,632.5,800.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="543.5" x2="634.5" y1="800.8594" y2="800.8594"/><polygon fill="#A80036" points="713,810.8594,723,814.8594,713,818.8594,717,814.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="640.5" x2="719" y1="814.8594" y2="814.8594"/><polygon fill="#A80036" points="884,855.125,894,859.125,884,863.125,888,859.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="735" x2="890" y1="859.125" y2="859.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="742" y="838.9263">receive_message</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="742" y="854.0591">(Message *message)</text><polygon fill="#A80036" points="1336.5,869.125,1346.5,873.125,1336.5,877.125,1340.5,873.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="896" x2="1342.5" y1="873.125" y2="873.125"/><polygon fill="#A80036" points="746,928.5234,736,932.5234,746,936.5234,742,932.5234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="740" x2="1347.5" y1="932.5234" y2="932.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="752" y="897.1919">collect_data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="752" y="912.3247">(property_tree&amp; table,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="756" y="927.4575">property_tree&amp; datatypes)</text><polygon fill="#A80036" points="987.5,957.6563,997.5,961.6563,987.5,965.6563,991.5,961.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="735" x2="993.5" y1="961.6563" y2="961.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="742" y="956.5903">read metadata</text><polygon fill="#A80036" points="1057,986.7891,1067,990.7891,1057,994.7891,1061,990.7891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1009.5" x2="1063" y1="990.7891" y2="990.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="1016.5" y="985.7231">read</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1009.5" x2="1019.5" y1="1004.7891" y2="1000.7891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1009.5" x2="1019.5" y1="1004.7891" y2="1008.7891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1009.5" x2="1073" y1="1004.7891" y2="1004.7891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="735" x2="745" y1="1018.7891" y2="1014.7891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="735" x2="745" y1="1018.7891" y2="1022.7891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="735" x2="1003.5" y1="1018.7891" y2="1018.7891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1346.5" x2="1336.5" y1="1032.7891" y2="1028.7891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1346.5" x2="1336.5" y1="1032.7891" y2="1036.7891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="735" x2="1347.5" y1="1032.7891" y2="1032.7891"/><polygon fill="#A80036" points="1458.5,1057.9219,1468.5,1061.9219,1458.5,1065.9219,1462.5,1061.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1358.5" x2="1464.5" y1="1061.9219" y2="1061.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="1365.5" y="1056.856">CREATE TABLE</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1358.5" x2="1368.5" y1="1075.9219" y2="1071.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1358.5" x2="1368.5" y1="1075.9219" y2="1079.9219"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1358.5" x2="1474.5" y1="1075.9219" y2="1075.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="896" x2="906" y1="1089.9219" y2="1085.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="896" x2="906" y1="1089.9219" y2="1093.9219"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="896" x2="1352.5" y1="1089.9219" y2="1089.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="735" x2="745" y1="1103.9219" y2="1099.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="735" x2="745" y1="1103.9219" y2="1107.9219"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="735" x2="895" y1="1103.9219" y2="1103.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="640.5" x2="650.5" y1="1117.9219" y2="1113.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="640.5" x2="650.5" y1="1117.9219" y2="1121.9219"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="640.5" x2="729" y1="1117.9219" y2="1117.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="543.5" x2="553.5" y1="1131.9219" y2="1127.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="543.5" x2="553.5" y1="1131.9219" y2="1135.9219"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="543.5" x2="639.5" y1="1131.9219" y2="1131.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="280" y1="1145.9219" y2="1141.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="280" y1="1145.9219" y2="1149.9219"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="270" x2="532.5" y1="1145.9219" y2="1145.9219"/><polygon fill="#A80036" points="410,1176.0547,420,1180.0547,410,1184.0547,414,1180.0547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="416" y1="1180.0547" y2="1180.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="277" y="1174.9888">end()</text><path d="M427,1158.9219 L427,1183.9219 L972,1183.9219 L972,1168.9219 L962,1158.9219 L427,1158.9219 " fill="#FBFB77" filter="url(#f1pordlsfo393a)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M962,1158.9219 L962,1168.9219 L972,1168.9219 L962,1158.9219 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="524" x="433" y="1175.9888">結果セット（rs）の開放とコネクション（connection）の切断（と関連リソースの開放）</text><polygon fill="#A80036" points="628.5,1195.0547,638.5,1199.0547,628.5,1203.0547,632.5,1199.0547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="543.5" x2="634.5" y1="1199.0547" y2="1199.0547"/><polygon fill="#A80036" points="713,1209.0547,723,1213.0547,713,1217.0547,717,1213.0547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="640.5" x2="719" y1="1213.0547" y2="1213.0547"/><polygon fill="#A80036" points="884,1253.3203,894,1257.3203,884,1261.3203,888,1257.3203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="735" x2="890" y1="1257.3203" y2="1257.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="742" y="1237.1216">receive_message</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="742" y="1252.2544">(Message *message)</text><polygon fill="#A80036" points="1569.5,1267.3203,1579.5,1271.3203,1569.5,1275.3203,1573.5,1271.3203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="896" x2="1575.5" y1="1271.3203" y2="1271.3203"/><polygon fill="#A80036" points="746,1326.7188,736,1330.7188,746,1334.7188,742,1330.7188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="740" x2="1580.5" y1="1330.7188" y2="1330.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="752" y="1295.3872">collect_data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="752" y="1310.52">(property_tree&amp; table,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="756" y="1325.6528">property_tree&amp; datatypes)</text><polygon fill="#A80036" points="987.5,1355.8516,997.5,1359.8516,987.5,1363.8516,991.5,1359.8516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="735" x2="993.5" y1="1359.8516" y2="1359.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="742" y="1354.7856">read metadata</text><polygon fill="#A80036" points="1057,1384.9844,1067,1388.9844,1057,1392.9844,1061,1388.9844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1009.5" x2="1063" y1="1388.9844" y2="1388.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="1016.5" y="1383.9185">read</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1009.5" x2="1019.5" y1="1402.9844" y2="1398.9844"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1009.5" x2="1019.5" y1="1402.9844" y2="1406.9844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1009.5" x2="1073" y1="1402.9844" y2="1402.9844"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="735" x2="745" y1="1416.9844" y2="1412.9844"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="735" x2="745" y1="1416.9844" y2="1420.9844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="735" x2="998.5" y1="1416.9844" y2="1416.9844"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1579.5" x2="1569.5" y1="1430.9844" y2="1426.9844"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1579.5" x2="1569.5" y1="1430.9844" y2="1434.9844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="735" x2="1580.5" y1="1430.9844" y2="1430.9844"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1591.5" x2="1633.5" y1="1460.1172" y2="1460.1172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1633.5" x2="1633.5" y1="1460.1172" y2="1473.1172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1592.5" x2="1633.5" y1="1473.1172" y2="1473.1172"/><polygon fill="#A80036" points="1602.5,1469.1172,1592.5,1473.1172,1602.5,1477.1172,1598.5,1473.1172" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="1598.5" y="1455.0513">CREATE TABLE</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="896" x2="906" y1="1487.1172" y2="1483.1172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="896" x2="906" y1="1487.1172" y2="1491.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="896" x2="1585.5" y1="1487.1172" y2="1487.1172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="735" x2="745" y1="1501.1172" y2="1497.1172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="735" x2="745" y1="1501.1172" y2="1505.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="735" x2="895" y1="1501.1172" y2="1501.1172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="640.5" x2="650.5" y1="1515.1172" y2="1511.1172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="640.5" x2="650.5" y1="1515.1172" y2="1519.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="640.5" x2="729" y1="1515.1172" y2="1515.1172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="543.5" x2="553.5" y1="1529.1172" y2="1525.1172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="543.5" x2="553.5" y1="1529.1172" y2="1533.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="543.5" x2="639.5" y1="1529.1172" y2="1529.1172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="280" y1="1543.1172" y2="1539.1172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="280" y1="1543.1172" y2="1547.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="270" x2="537.5" y1="1543.1172" y2="1543.1172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="175" x2="185" y1="1557.1172" y2="1553.1172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="175" x2="185" y1="1557.1172" y2="1561.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="175" x2="264" y1="1557.1172" y2="1557.1172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="32" x2="42" y1="1571.1172" y2="1567.1172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="32" x2="42" y1="1571.1172" y2="1575.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="32" x2="169" y1="1571.1172" y2="1571.1172"/><!--MD5=[68d1a58bb477dd97ccb9b09f178ab7f1]
@startuml テーブル定義シーケンス詳細案1b

title テーブル定義シーケンス詳細案1b

actor 利用者
boundary PostgreSQL

box "コンポーネント名：\nfrontend" #LightSkyBlue
control utility_hook
control StubManager
end box

box "コンポーネント名：\nmanager/message-broker" #LightGreen
control MessageBroker
entity Message
entity "CreateTable\nMessage" as concrete_message
entity Receiver
end box

box "コンポーネント名：\nmanager/metadata-manager" #GreenYellow
control tables
database metadata
end box

box "コンポーネント名：\nogawayama" #LightYellow
control "stub::Transaction" as tran
control "OLTP_Receiver" as oltp_receiver
control "ogawayama" as ogawayama
end box

box "コンポーネント名：\nOLAP" #LightPink
control "OLAP_Receiver" as olap_receiver
end box

利用者 -> PostgreSQL : テーブル定義要求()
activate PostgreSQL
note right
CREATE TABLE文
end note

PostgreSQL -> utility_hook
activate utility_hook
  ' write meta-data
  utility_hook -> tables : write meta-data
  activate tables
    tables -> metadata : write
    activate metadata
    tables <<- - metadata
    deactivate metadata
    utility_hook <<- - tables
  deactivate tables

  ' create objects
  create concrete_message
  utility_hook -> concrete_message : new
  create olap_receiver
  utility_hook -> olap_receiver : new

  ' set receiver
  utility_hook -> StubManager : begin(&transaction)
  note right
  connection = Stub->get_connection();
  transaction = connection->begin();
  end note
  utility_hook -> tran : get_receiver()
  activate tran
  tran -> ogawayama : get_receiver()
  activate ogawayama
  create oltp_receiver
  ogawayama -> oltp_receiver : new
  tran <<- - ogawayama : OLTP_Receiver
  deactivate ogawayama
  utility_hook <<- - tran
  deactivate tran
  utility_hook -> concrete_message : set_receiver\n(OLTP_Receiver)
  activate concrete_message
    utility_hook <<- - concrete_message
  deactivate concrete_message
  utility_hook -> concrete_message : set_receiver\n(OLAP_Receiver)
  activate concrete_message
    utility_hook <<- - concrete_message
  deactivate concrete_message

  ' send message to MessageBroker
  utility_hook -> MessageBroker : send_message\n(CreateTableMessage)
  activate MessageBroker

  ' execute command
  MessageBroker -> Message
  Message -> concrete_message
  activate concrete_message
    concrete_message -> Receiver : receive_message\n(Message *message)
    Receiver -> oltp_receiver
    activate oltp_receiver
      oltp_receiver -> concrete_message : collect_data\n(property_tree& table,\n property_tree& datatypes)
      concrete_message -> tables : read metadata
      activate tables
        tables -> metadata : read
        activate metadata
        tables <<- - metadata
        deactivate metadata
        concrete_message <<- - tables
      deactivate tables
      oltp_receiver <<- - concrete_message
      oltp_receiver -> ogawayama : CREATE TABLE
      activate ogawayama
      oltp_receiver <<- - ogawayama
      deactivate ogawayama
    Receiver <<- - oltp_receiver
    deactivate oltp_receiver
    concrete_message <<- - Receiver
  Message <<- - concrete_message
  deactivate concrete_message
  MessageBroker <<- - Message
  utility_hook <<- - MessageBroker
  utility_hook -> StubManager : end()
  note right
  結果セット（rs）の開放とコネクション（connection）の切断（と関連リソースの開放）
  end note
  MessageBroker -> Message
  Message -> concrete_message
  activate concrete_message
    concrete_message -> Receiver : receive_message\n(Message *message)
    Receiver -> olap_receiver
    activate olap_receiver
      olap_receiver -> concrete_message : collect_data\n(property_tree& table,\n property_tree& datatypes)
      concrete_message -> tables : read metadata
      activate tables
        tables -> metadata : read
        activate metadata
        tables <<- - metadata
        deactivate metadata
        concrete_message <<- - tables
        olap_receiver <<- - concrete_message
      deactivate tables
      olap_receiver -> olap_receiver : CREATE TABLE
      Receiver <<- - olap_receiver
      deactivate olap_receiver
      concrete_message <<- - Receiver
  Message <<- - concrete_message
  deactivate concrete_message
  MessageBroker <<- - Message
  utility_hook <<- - MessageBroker
  deactivate MessageBroker
PostgreSQL <<- - utility_hook
deactivate utility_hook
利用者 <<- - PostgreSQL
deactivate PostgreSQL

@enduml

@startuml テーブル定義シーケンス詳細案1b

title テーブル定義シーケンス詳細案1b

actor 利用者
boundary PostgreSQL

box "コンポーネント名：\nfrontend" #LightSkyBlue
control utility_hook
control StubManager
end box

box "コンポーネント名：\nmanager/message-broker" #LightGreen
control MessageBroker
entity Message
entity "CreateTable\nMessage" as concrete_message
entity Receiver
end box

box "コンポーネント名：\nmanager/metadata-manager" #GreenYellow
control tables
database metadata
end box

box "コンポーネント名：\nogawayama" #LightYellow
control "stub::Transaction" as tran
control "OLTP_Receiver" as oltp_receiver
control "ogawayama" as ogawayama
end box

box "コンポーネント名：\nOLAP" #LightPink
control "OLAP_Receiver" as olap_receiver
end box

利用者 -> PostgreSQL : テーブル定義要求()
activate PostgreSQL
note right
CREATE TABLE文
end note

PostgreSQL -> utility_hook
activate utility_hook
  utility_hook -> tables : write meta-data
  activate tables
    tables -> metadata : write
    activate metadata
    tables <<- - metadata
    deactivate metadata
    utility_hook <<- - tables
  deactivate tables

  create concrete_message
  utility_hook -> concrete_message : new
  create olap_receiver
  utility_hook -> olap_receiver : new

  utility_hook -> StubManager : begin(&transaction)
  note right
  connection = Stub->get_connection();
  transaction = connection->begin();
  end note
  utility_hook -> tran : get_receiver()
  activate tran
  tran -> ogawayama : get_receiver()
  activate ogawayama
  create oltp_receiver
  ogawayama -> oltp_receiver : new
  tran <<- - ogawayama : OLTP_Receiver
  deactivate ogawayama
  utility_hook <<- - tran
  deactivate tran
  utility_hook -> concrete_message : set_receiver\n(OLTP_Receiver)
  activate concrete_message
    utility_hook <<- - concrete_message
  deactivate concrete_message
  utility_hook -> concrete_message : set_receiver\n(OLAP_Receiver)
  activate concrete_message
    utility_hook <<- - concrete_message
  deactivate concrete_message

  utility_hook -> MessageBroker : send_message\n(CreateTableMessage)
  activate MessageBroker

  MessageBroker -> Message
  Message -> concrete_message
  activate concrete_message
    concrete_message -> Receiver : receive_message\n(Message *message)
    Receiver -> oltp_receiver
    activate oltp_receiver
      oltp_receiver -> concrete_message : collect_data\n(property_tree& table,\n property_tree& datatypes)
      concrete_message -> tables : read metadata
      activate tables
        tables -> metadata : read
        activate metadata
        tables <<- - metadata
        deactivate metadata
        concrete_message <<- - tables
      deactivate tables
      oltp_receiver <<- - concrete_message
      oltp_receiver -> ogawayama : CREATE TABLE
      activate ogawayama
      oltp_receiver <<- - ogawayama
      deactivate ogawayama
    Receiver <<- - oltp_receiver
    deactivate oltp_receiver
    concrete_message <<- - Receiver
  Message <<- - concrete_message
  deactivate concrete_message
  MessageBroker <<- - Message
  utility_hook <<- - MessageBroker
  utility_hook -> StubManager : end()
  note right
  結果セット（rs）の開放とコネクション（connection）の切断（と関連リソースの開放）
  end note
  MessageBroker -> Message
  Message -> concrete_message
  activate concrete_message
    concrete_message -> Receiver : receive_message\n(Message *message)
    Receiver -> olap_receiver
    activate olap_receiver
      olap_receiver -> concrete_message : collect_data\n(property_tree& table,\n property_tree& datatypes)
      concrete_message -> tables : read metadata
      activate tables
        tables -> metadata : read
        activate metadata
        tables <<- - metadata
        deactivate metadata
        concrete_message <<- - tables
        olap_receiver <<- - concrete_message
      deactivate tables
      olap_receiver -> olap_receiver : CREATE TABLE
      Receiver <<- - olap_receiver
      deactivate olap_receiver
      concrete_message <<- - Receiver
  Message <<- - concrete_message
  deactivate concrete_message
  MessageBroker <<- - Message
  utility_hook <<- - MessageBroker
  deactivate MessageBroker
PostgreSQL <<- - utility_hook
deactivate utility_hook
利用者 <<- - PostgreSQL
deactivate PostgreSQL

@enduml

PlantUML version 1.2020.10(Sun May 17 09:35:57 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_252-8u252-b09-1~18.04-b09
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>