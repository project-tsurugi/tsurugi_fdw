<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1725px" preserveAspectRatio="none" style="width:1787px;height:1725px;" version="1.1" viewBox="0 0 1787 1725" width="1787px" zoomAndPan="magnify"><defs><filter height="300%" id="f1d4vayiv3z8nz" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="273" x="760" y="26.708">テーブル定義シーケンス詳細案1a</text><rect fill="#87CEFA" height="1675.5938" style="stroke: #A80036; stroke-width: 1.0;" width="255.5" x="219.5" y="38.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="288.75" y="51.02">コンポーネント名：</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="64" x="315.25" y="66.1528">frontend</text><rect fill="#90EE90" height="1675.5938" style="stroke: #A80036; stroke-width: 1.0;" width="456" x="477" y="38.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="646.5" y="51.02">コンポーネント名：</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="192" x="609" y="66.1528">manager/message-broker</text><rect fill="#ADFF2F" height="1675.5938" style="stroke: #A80036; stroke-width: 1.0;" width="220" x="935" y="38.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="986.5" y="51.02">コンポーネント名：</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="214" x="938" y="66.1528">manager/metadata-manager</text><rect fill="#FFFFE0" height="1675.5938" style="stroke: #A80036; stroke-width: 1.0;" width="449.5" x="1157" y="38.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="1323.25" y="51.02">コンポーネント名：</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="89" x="1337.25" y="66.1528">ogawayama</text><rect fill="#FFB6C1" height="1675.5938" style="stroke: #A80036; stroke-width: 1.0;" width="123" x="1608.5" y="38.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="1611.5" y="51.02">コンポーネント名：</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="39" x="1650.5" y="66.1528">OLAP</text><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="1436.3047" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="165" y="173.9453"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="1403.3047" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="260" y="192.9453"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="852.5234" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="533.5" y="729.7266"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="725" y="514.6641"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="725" y="572.9297"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="399.3281" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="725" y="757.7266"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="302.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="725" y="1252.1875"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="57.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="999.5" y="222.0781"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="57.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="999.5" y="904.5234"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="71.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="999.5" y="1398.9844"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1069" y="251.2109"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1069" y="933.6563"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1069" y="1428.1172"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="313.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1210.5" y="815.9922"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="110.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1386.5" y="1004.7891"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1529" y="1033.9219"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="215.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1665" y="1310.4531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="32" x2="32" y1="137.8125" y2="1628.25"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="169.5" x2="169.5" y1="137.8125" y2="1628.25"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="264.5" x2="264.5" y1="137.8125" y2="1628.25"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="422" x2="422" y1="137.8125" y2="1628.25"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="538" x2="538" y1="137.8125" y2="1628.25"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="640" x2="640" y1="137.8125" y2="1628.25"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="730" x2="730" y1="334.5078" y2="1628.25"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="896" x2="896" y1="137.8125" y2="1628.25"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1004.5" x2="1004.5" y1="137.8125" y2="1628.25"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1073.5" x2="1073.5" y1="137.8125" y2="1628.25"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1215" x2="1215" y1="400.9531" y2="1628.25"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1391.5" x2="1391.5" y1="137.8125" y2="1628.25"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1533.5" x2="1533.5" y1="137.8125" y2="1628.25"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1669.5" x2="1669.5" y1="459.25" y2="1628.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="8" y="134.5107">利用者</text><ellipse cx="32" cy="64.5156" fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M32,72.5156 L32,99.5156 M19,80.5156 L45,80.5156 M32,99.5156 L19,114.5156 M32,99.5156 L45,114.5156 " fill="none" filter="url(#f1d4vayiv3z8nz)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="8" y="1640.2451">利用者</text><ellipse cx="32" cy="1653.5469" fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M32,1661.5469 L32,1688.5469 M19,1669.5469 L45,1669.5469 M32,1688.5469 L19,1703.5469 M32,1688.5469 L45,1703.5469 " fill="none" filter="url(#f1d4vayiv3z8nz)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="126.5" y="134.5107">PostgreSQL</text><path d="M149.5,93.5156 L149.5,117.5156 M149.5,105.5156 L166.5,105.5156 " fill="none" filter="url(#f1d4vayiv3z8nz)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="178.5" cy="105.5156" fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="126.5" y="1640.2451">PostgreSQL</text><path d="M149.5,1647.5469 L149.5,1671.5469 M149.5,1659.5469 L166.5,1659.5469 " fill="none" filter="url(#f1d4vayiv3z8nz)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="178.5" cy="1659.5469" fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="223.5" y="134.5107">utility_hook</text><ellipse cx="265" cy="105.5156" fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="261,93.5156,267,88.5156,265,93.5156,267,98.5156,261,93.5156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="223.5" y="1640.2451">utility_hook</text><ellipse cx="265" cy="1659.5469" fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="261,1647.5469,267,1642.5469,265,1647.5469,267,1652.5469,261,1647.5469" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="373" y="134.5107">StubManager</text><ellipse cx="422" cy="105.5156" fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="418,93.5156,424,88.5156,422,93.5156,424,98.5156,418,93.5156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="373" y="1640.2451">StubManager</text><ellipse cx="422" cy="1659.5469" fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="418,1647.5469,424,1642.5469,422,1647.5469,424,1652.5469,418,1647.5469" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="481" y="134.5107">MessageBroker</text><ellipse cx="538.5" cy="105.5156" fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="534.5,93.5156,540.5,88.5156,538.5,93.5156,540.5,98.5156,534.5,93.5156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="481" y="1640.2451">MessageBroker</text><ellipse cx="538.5" cy="1659.5469" fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="534.5,1647.5469,540.5,1642.5469,538.5,1647.5469,540.5,1652.5469,534.5,1647.5469" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="606" y="134.5107">Message</text><ellipse cx="640.5" cy="105.5156" fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="628.5" x2="652.5" y1="119.5156" y2="119.5156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="606" y="1640.2451">Message</text><ellipse cx="640.5" cy="1659.5469" fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="628.5" x2="652.5" y1="1673.5469" y2="1673.5469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="685" y="1640.2451">CreateTable</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="695.5" y="1656.542">Message</text><ellipse cx="730" cy="1675.8438" fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="718" x2="742" y1="1689.8438" y2="1689.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="863" y="134.5107">Receiver</text><ellipse cx="896" cy="105.5156" fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="884" x2="908" y1="119.5156" y2="119.5156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="863" y="1640.2451">Receiver</text><ellipse cx="896" cy="1659.5469" fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="884" x2="908" y1="1673.5469" y2="1673.5469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="980.5" y="134.5107">tables</text><ellipse cx="1004.5" cy="105.5156" fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1000.5,93.5156,1006.5,88.5156,1004.5,93.5156,1006.5,98.5156,1000.5,93.5156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="980.5" y="1640.2451">tables</text><ellipse cx="1004.5" cy="1659.5469" fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1000.5,1647.5469,1006.5,1642.5469,1004.5,1647.5469,1006.5,1652.5469,1000.5,1647.5469" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="1038.5" y="134.5107">metadata</text><path d="M1056,85.5156 C1056,75.5156 1074,75.5156 1074,75.5156 C1074,75.5156 1092,75.5156 1092,85.5156 L1092,111.5156 C1092,121.5156 1074,121.5156 1074,121.5156 C1074,121.5156 1056,121.5156 1056,111.5156 L1056,85.5156 " fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1056,85.5156 C1056,95.5156 1074,95.5156 1074,95.5156 C1074,95.5156 1092,95.5156 1092,85.5156 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="1038.5" y="1640.2451">metadata</text><path d="M1056,1653.5469 C1056,1643.5469 1074,1643.5469 1074,1643.5469 C1074,1643.5469 1092,1643.5469 1092,1653.5469 L1092,1679.5469 C1092,1689.5469 1074,1689.5469 1074,1689.5469 C1074,1689.5469 1056,1689.5469 1056,1679.5469 L1056,1653.5469 " fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1056,1653.5469 C1056,1663.5469 1074,1663.5469 1074,1663.5469 C1074,1663.5469 1092,1663.5469 1092,1653.5469 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="1161" y="1640.2451">OLTP_Receiver</text><ellipse cx="1215.5" cy="1659.5469" fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1211.5,1647.5469,1217.5,1642.5469,1215.5,1647.5469,1217.5,1652.5469,1211.5,1647.5469" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="1327.5" y="134.5107">stub::Transaction</text><ellipse cx="1391.5" cy="105.5156" fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1387.5,93.5156,1393.5,88.5156,1391.5,93.5156,1393.5,98.5156,1387.5,93.5156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="1327.5" y="1640.2451">stub::Transaction</text><ellipse cx="1391.5" cy="1659.5469" fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1387.5,1647.5469,1393.5,1642.5469,1391.5,1647.5469,1393.5,1652.5469,1387.5,1647.5469" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="131" x="1465.5" y="134.5107">ogawayama_server</text><ellipse cx="1534" cy="105.5156" fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1530,93.5156,1536,88.5156,1534,93.5156,1536,98.5156,1530,93.5156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="131" x="1465.5" y="1640.2451">ogawayama_server</text><ellipse cx="1534" cy="1659.5469" fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1530,1647.5469,1536,1642.5469,1534,1647.5469,1536,1652.5469,1530,1647.5469" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="1615.5" y="1640.2451">OLAP_Receiver</text><ellipse cx="1670" cy="1659.5469" fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1666,1647.5469,1672,1642.5469,1670,1647.5469,1672,1652.5469,1666,1647.5469" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="1436.3047" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="165" y="173.9453"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="1403.3047" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="260" y="192.9453"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="852.5234" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="533.5" y="729.7266"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="725" y="514.6641"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="725" y="572.9297"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="399.3281" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="725" y="757.7266"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="302.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="725" y="1252.1875"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="57.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="999.5" y="222.0781"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="57.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="999.5" y="904.5234"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="71.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="999.5" y="1398.9844"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1069" y="251.2109"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1069" y="933.6563"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1069" y="1428.1172"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="313.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1210.5" y="815.9922"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="110.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1386.5" y="1004.7891"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1529" y="1033.9219"/><rect fill="#FFFFFF" filter="url(#f1d4vayiv3z8nz)" height="215.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1665" y="1310.4531"/><polygon fill="#A80036" points="153,169.9453,163,173.9453,153,177.9453,157,173.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="32" x2="159" y1="173.9453" y2="173.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="39" y="168.8794">テーブル定義要求()</text><path d="M180,152.8125 L180,177.8125 L307,177.8125 L307,162.8125 L297,152.8125 L180,152.8125 " fill="#FBFB77" filter="url(#f1d4vayiv3z8nz)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M297,152.8125 L297,162.8125 L307,162.8125 L297,152.8125 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="186" y="169.8794">CREATE TABLE文</text><polygon fill="#A80036" points="248,188.9453,258,192.9453,248,196.9453,252,192.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="175" x2="254" y1="192.9453" y2="192.9453"/><polygon fill="#A80036" points="987.5,218.0781,997.5,222.0781,987.5,226.0781,991.5,222.0781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="993.5" y1="222.0781" y2="222.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="277" y="217.0122">write meta-data</text><polygon fill="#A80036" points="1057,247.2109,1067,251.2109,1057,255.2109,1061,251.2109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1009.5" x2="1063" y1="251.2109" y2="251.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="1016.5" y="246.145">write</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1009.5" x2="1019.5" y1="265.2109" y2="261.2109"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1009.5" x2="1019.5" y1="265.2109" y2="269.2109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1009.5" x2="1073" y1="265.2109" y2="265.2109"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="280" y1="279.2109" y2="275.2109"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="280" y1="279.2109" y2="283.2109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="270" x2="1003.5" y1="279.2109" y2="279.2109"/><polygon fill="#A80036" points="673,304.3438,683,308.3438,673,312.3438,677,308.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="679" y1="308.3438" y2="308.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="277" y="303.2778">new</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="685" y="332.2061">CreateTable</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="695.5" y="348.5029">Message</text><ellipse cx="730" cy="303.2109" fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="718" x2="742" y1="317.2109" y2="317.2109"/><polygon fill="#A80036" points="1149,378.9375,1159,382.9375,1149,386.9375,1153,382.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="1155" y1="382.9375" y2="382.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="277" y="377.8716">new</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="1161" y="406.7998">OLTP_Receiver</text><ellipse cx="1215.5" cy="377.8047" fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1211.5,365.8047,1217.5,360.8047,1215.5,365.8047,1217.5,370.8047,1211.5,365.8047" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1603.5,437.2344,1613.5,441.2344,1603.5,445.2344,1607.5,441.2344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="1609.5" y1="441.2344" y2="441.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="277" y="436.1685">new</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="1615.5" y="465.0967">OLAP_Receiver</text><ellipse cx="1670" cy="436.1016" fill="#FEFECE" filter="url(#f1d4vayiv3z8nz)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1666,424.1016,1672,419.1016,1670,424.1016,1672,429.1016,1666,424.1016" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="713,510.6641,723,514.6641,713,518.6641,717,514.6641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="719" y1="514.6641" y2="514.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="277" y="494.4653">set_receiver</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="277" y="509.5981">(OLTP_Receiver)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="280" y1="528.6641" y2="524.6641"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="280" y1="528.6641" y2="532.6641"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="270" x2="729" y1="528.6641" y2="528.6641"/><polygon fill="#A80036" points="713,568.9297,723,572.9297,713,576.9297,717,572.9297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="719" y1="572.9297" y2="572.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="277" y="552.731">set_receiver</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="277" y="567.8638">(OLAP_Receiver)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="280" y1="586.9297" y2="582.9297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="280" y1="586.9297" y2="590.9297"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="270" x2="729" y1="586.9297" y2="586.9297"/><polygon fill="#A80036" points="410,624.6289,420,628.6289,410,632.6289,414,628.6289" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="416" y1="628.6289" y2="628.6289"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="277" y="623.563">begin(&amp;transaction)</text><path d="M427,599.9297 L427,639.9297 L695,639.9297 L695,609.9297 L685,599.9297 L427,599.9297 " fill="#FBFB77" filter="url(#f1d4vayiv3z8nz)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M685,599.9297 L685,609.9297 L695,609.9297 L685,599.9297 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="247" x="433" y="616.9966">connection = Stub-&gt;get_connection();</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="226" x="433" y="632.1294">transaction = connection-&gt;begin();</text><polygon fill="#A80036" points="718,681.4609,728,685.4609,718,689.4609,722,685.4609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="724" y1="685.4609" y2="685.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="303" x="277" y="665.2622">stub::transactionオブジェクトのvoidポインターを</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="359" x="277" y="680.395">Messageオブジェクトのメンバー変数paramにセットする。</text><polygon fill="#A80036" points="521.5,725.7266,531.5,729.7266,521.5,733.7266,525.5,729.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="527.5" y1="729.7266" y2="729.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="277" y="709.5278">send_message</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="277" y="724.6606">(CreateTableMessage)</text><polygon fill="#A80036" points="628.5,739.7266,638.5,743.7266,628.5,747.7266,632.5,743.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="543.5" x2="634.5" y1="743.7266" y2="743.7266"/><polygon fill="#A80036" points="713,753.7266,723,757.7266,713,761.7266,717,757.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="640.5" x2="719" y1="757.7266" y2="757.7266"/><polygon fill="#A80036" points="884,797.9922,894,801.9922,884,805.9922,888,801.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="735" x2="890" y1="801.9922" y2="801.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="742" y="781.7935">receive_message</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="742" y="796.9263">(Message *message)</text><polygon fill="#A80036" points="1198.5,811.9922,1208.5,815.9922,1198.5,819.9922,1202.5,815.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="896" x2="1204.5" y1="815.9922" y2="815.9922"/><polygon fill="#A80036" points="746,871.3906,736,875.3906,746,879.3906,742,875.3906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="740" x2="1209.5" y1="875.3906" y2="875.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="752" y="840.0591">collect_data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="752" y="855.1919">(property_tree&amp; table,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="756" y="870.3247">property_tree&amp; datatypes)</text><polygon fill="#A80036" points="987.5,900.5234,997.5,904.5234,987.5,908.5234,991.5,904.5234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="735" x2="993.5" y1="904.5234" y2="904.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="742" y="899.4575">read metadata</text><polygon fill="#A80036" points="1057,929.6563,1067,933.6563,1057,937.6563,1061,933.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1009.5" x2="1063" y1="933.6563" y2="933.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="1016.5" y="928.5903">read</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1009.5" x2="1019.5" y1="947.6563" y2="943.6563"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1009.5" x2="1019.5" y1="947.6563" y2="951.6563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1009.5" x2="1073" y1="947.6563" y2="947.6563"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="735" x2="745" y1="961.6563" y2="957.6563"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="735" x2="745" y1="961.6563" y2="965.6563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="735" x2="1003.5" y1="961.6563" y2="961.6563"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1208.5" x2="1198.5" y1="975.6563" y2="971.6563"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1208.5" x2="1198.5" y1="975.6563" y2="979.6563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="735" x2="1209.5" y1="975.6563" y2="975.6563"/><polygon fill="#A80036" points="1374.5,1000.7891,1384.5,1004.7891,1374.5,1008.7891,1378.5,1004.7891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1220.5" x2="1380.5" y1="1004.7891" y2="1004.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="1227.5" y="999.7231">execute_statement(...)</text><polygon fill="#A80036" points="1517,1029.9219,1527,1033.9219,1517,1037.9219,1521,1033.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1396.5" x2="1523" y1="1033.9219" y2="1033.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="1403.5" y="1028.856">CREATE TABLE</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1396.5" x2="1406.5" y1="1047.9219" y2="1043.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1396.5" x2="1406.5" y1="1047.9219" y2="1051.9219"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1396.5" x2="1533" y1="1047.9219" y2="1047.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1220.5" x2="1230.5" y1="1061.9219" y2="1057.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1220.5" x2="1230.5" y1="1061.9219" y2="1065.9219"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1220.5" x2="1385.5" y1="1061.9219" y2="1061.9219"/><polygon fill="#A80036" points="1374.5,1092.0547,1384.5,1096.0547,1374.5,1100.0547,1378.5,1096.0547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1220.5" x2="1380.5" y1="1096.0547" y2="1096.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="1227.5" y="1090.9888">commit()</text><path d="M1401,1074.9219 L1401,1099.9219 L1573,1099.9219 L1573,1084.9219 L1563,1074.9219 L1401,1074.9219 " fill="#FBFB77" filter="url(#f1d4vayiv3z8nz)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1563,1074.9219 L1563,1084.9219 L1573,1084.9219 L1563,1074.9219 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="1407" y="1091.9888">transaction-&gt;commit();</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1220.5" x2="1230.5" y1="1115.0547" y2="1111.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1220.5" x2="1230.5" y1="1115.0547" y2="1119.0547"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1220.5" x2="1390.5" y1="1115.0547" y2="1115.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="896" x2="906" y1="1129.0547" y2="1125.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="896" x2="906" y1="1129.0547" y2="1133.0547"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="896" x2="1214.5" y1="1129.0547" y2="1129.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="735" x2="745" y1="1143.0547" y2="1139.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="735" x2="745" y1="1143.0547" y2="1147.0547"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="735" x2="895" y1="1143.0547" y2="1143.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="640.5" x2="650.5" y1="1157.0547" y2="1153.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="640.5" x2="650.5" y1="1157.0547" y2="1161.0547"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="640.5" x2="729" y1="1157.0547" y2="1157.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="543.5" x2="553.5" y1="1171.0547" y2="1167.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="543.5" x2="553.5" y1="1171.0547" y2="1175.0547"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="543.5" x2="639.5" y1="1171.0547" y2="1171.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="280" y1="1185.0547" y2="1181.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="280" y1="1185.0547" y2="1189.0547"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="270" x2="532.5" y1="1185.0547" y2="1185.0547"/><polygon fill="#A80036" points="410,1215.1875,420,1219.1875,410,1223.1875,414,1219.1875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="416" y1="1219.1875" y2="1219.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="277" y="1214.1216">end()</text><path d="M427,1198.0547 L427,1223.0547 L972,1223.0547 L972,1208.0547 L962,1198.0547 L427,1198.0547 " fill="#FBFB77" filter="url(#f1d4vayiv3z8nz)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M962,1198.0547 L962,1208.0547 L972,1208.0547 L962,1198.0547 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="524" x="433" y="1215.1216">結果セット（rs）の開放とコネクション（connection）の切断（と関連リソースの開放）</text><polygon fill="#A80036" points="628.5,1234.1875,638.5,1238.1875,628.5,1242.1875,632.5,1238.1875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="543.5" x2="634.5" y1="1238.1875" y2="1238.1875"/><polygon fill="#A80036" points="713,1248.1875,723,1252.1875,713,1256.1875,717,1252.1875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="640.5" x2="719" y1="1252.1875" y2="1252.1875"/><polygon fill="#A80036" points="884,1292.4531,894,1296.4531,884,1300.4531,888,1296.4531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="735" x2="890" y1="1296.4531" y2="1296.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="742" y="1276.2544">receive_message</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="742" y="1291.3872">(Message *message)</text><polygon fill="#A80036" points="1653,1306.4531,1663,1310.4531,1653,1314.4531,1657,1310.4531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="896" x2="1659" y1="1310.4531" y2="1310.4531"/><polygon fill="#A80036" points="746,1365.8516,736,1369.8516,746,1373.8516,742,1369.8516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="740" x2="1664" y1="1369.8516" y2="1369.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="752" y="1334.52">collect_data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="752" y="1349.6528">(property_tree&amp; table,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="756" y="1364.7856">property_tree&amp; datatypes)</text><polygon fill="#A80036" points="987.5,1394.9844,997.5,1398.9844,987.5,1402.9844,991.5,1398.9844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="735" x2="993.5" y1="1398.9844" y2="1398.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="742" y="1393.9185">read metadata</text><polygon fill="#A80036" points="1057,1424.1172,1067,1428.1172,1057,1432.1172,1061,1428.1172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1009.5" x2="1063" y1="1428.1172" y2="1428.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="1016.5" y="1423.0513">read</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1009.5" x2="1019.5" y1="1442.1172" y2="1438.1172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1009.5" x2="1019.5" y1="1442.1172" y2="1446.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1009.5" x2="1073" y1="1442.1172" y2="1442.1172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="735" x2="745" y1="1456.1172" y2="1452.1172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="735" x2="745" y1="1456.1172" y2="1460.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="735" x2="998.5" y1="1456.1172" y2="1456.1172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1663" x2="1653" y1="1470.1172" y2="1466.1172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1663" x2="1653" y1="1470.1172" y2="1474.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="735" x2="1664" y1="1470.1172" y2="1470.1172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1675" x2="1717" y1="1499.25" y2="1499.25"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1717" x2="1717" y1="1499.25" y2="1512.25"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1676" x2="1717" y1="1512.25" y2="1512.25"/><polygon fill="#A80036" points="1686,1508.25,1676,1512.25,1686,1516.25,1682,1512.25" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="1682" y="1494.1841">CREATE TABLE</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="896" x2="906" y1="1526.25" y2="1522.25"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="896" x2="906" y1="1526.25" y2="1530.25"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="896" x2="1669" y1="1526.25" y2="1526.25"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="735" x2="745" y1="1540.25" y2="1536.25"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="735" x2="745" y1="1540.25" y2="1544.25"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="735" x2="895" y1="1540.25" y2="1540.25"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="640.5" x2="650.5" y1="1554.25" y2="1550.25"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="640.5" x2="650.5" y1="1554.25" y2="1558.25"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="640.5" x2="729" y1="1554.25" y2="1554.25"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="543.5" x2="553.5" y1="1568.25" y2="1564.25"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="543.5" x2="553.5" y1="1568.25" y2="1572.25"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="543.5" x2="639.5" y1="1568.25" y2="1568.25"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="280" y1="1582.25" y2="1578.25"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="280" y1="1582.25" y2="1586.25"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="270" x2="537.5" y1="1582.25" y2="1582.25"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="175" x2="185" y1="1596.25" y2="1592.25"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="175" x2="185" y1="1596.25" y2="1600.25"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="175" x2="264" y1="1596.25" y2="1596.25"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="32" x2="42" y1="1610.25" y2="1606.25"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="32" x2="42" y1="1610.25" y2="1614.25"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="32" x2="169" y1="1610.25" y2="1610.25"/><!--MD5=[b31fc56af678532403fa3841c3e7fb96]
@startuml テーブル定義シーケンス詳細案1a

title テーブル定義シーケンス詳細案1a

actor 利用者
boundary PostgreSQL

box "コンポーネント名：\nfrontend" #LightSkyBlue
control utility_hook
control StubManager
end box

box "コンポーネント名：\nmanager/message-broker" #LightGreen
control MessageBroker
entity Message
entity "CreateTable\nMessage" as concrete_message
entity Receiver
end box

box "コンポーネント名：\nmanager/metadata-manager" #GreenYellow
control tables
database metadata
end box

box "コンポーネント名：\nogawayama" #LightYellow
control "OLTP_Receiver" as oltp_receiver
control "stub::Transaction" as tran
control ogawayama_server
end box

box "コンポーネント名：\nOLAP" #LightPink
control "OLAP_Receiver" as olap_receiver
end box

利用者 -> PostgreSQL : テーブル定義要求()
activate PostgreSQL
note right
CREATE TABLE文
end note

PostgreSQL -> utility_hook
activate utility_hook
  ' write meta-data
  utility_hook -> tables : write meta-data
  activate tables
    tables -> metadata : write
    activate metadata
    tables <<- - metadata
    deactivate metadata
    utility_hook <<- - tables
  deactivate tables

  ' create objects
  create concrete_message
  utility_hook -> concrete_message : new
  create oltp_receiver
  utility_hook -> oltp_receiver : new
  create olap_receiver
  utility_hook -> olap_receiver : new

  ' set receiver
  utility_hook -> concrete_message : set_receiver\n(OLTP_Receiver)
  activate concrete_message
    utility_hook <<- - concrete_message
  deactivate concrete_message
  utility_hook -> concrete_message : set_receiver\n(OLAP_Receiver)
  activate concrete_message
    utility_hook <<- - concrete_message
  deactivate concrete_message

  ' begin transaction
  utility_hook -> StubManager : begin(&transaction)
  note right
  connection = Stub->get_connection();
  transaction = connection->begin();
  end note
  utility_hook -> concrete_message : stub::transactionオブジェクトのvoidポインターを\nMessageオブジェクトのメンバー変数paramにセットする。

  ' send message to MessageBroker
  utility_hook -> MessageBroker : send_message\n(CreateTableMessage)
  activate MessageBroker

  ' execute command
  MessageBroker -> Message
  Message -> concrete_message
  activate concrete_message
    concrete_message -> Receiver : receive_message\n(Message *message)
    Receiver -> oltp_receiver
    activate oltp_receiver
      oltp_receiver -> concrete_message : collect_data\n(property_tree& table,\n property_tree& datatypes)
      concrete_message -> tables : read metadata
      activate tables
        tables -> metadata : read
        activate metadata
        tables <<- - metadata
        deactivate metadata
        concrete_message <<- - tables
      deactivate tables
      oltp_receiver <<- - concrete_message
      oltp_receiver -> tran : execute_statement(...)
      activate tran
        tran -> ogawayama_server : CREATE TABLE
          activate ogawayama_server
            tran <<- - ogawayama_server
          deactivate ogawayama_server
        oltp_receiver <<- - tran
        oltp_receiver -> tran : commit()
        note right
        transaction->commit();
        end note
        oltp_receiver <<- - tran
      deactivate tran
    Receiver <<- - oltp_receiver
    deactivate oltp_receiver
    concrete_message <<- - Receiver
  Message <<- - concrete_message
  deactivate concrete_message
  MessageBroker <<- - Message
  utility_hook <<- - MessageBroker
  utility_hook -> StubManager : end()
  note right
  結果セット（rs）の開放とコネクション（connection）の切断（と関連リソースの開放）
  end note
  MessageBroker -> Message
  Message -> concrete_message
  activate concrete_message
    concrete_message -> Receiver : receive_message\n(Message *message)
    Receiver -> olap_receiver
    activate olap_receiver
      olap_receiver -> concrete_message : collect_data\n(property_tree& table,\n property_tree& datatypes)
      concrete_message -> tables : read metadata
      activate tables
        tables -> metadata : read
        activate metadata
        tables <<- - metadata
        deactivate metadata
        concrete_message <<- - tables
        olap_receiver <<- - concrete_message
      deactivate tables
      olap_receiver -> olap_receiver : CREATE TABLE
      Receiver <<- - olap_receiver
      deactivate olap_receiver
      concrete_message <<- - Receiver
  Message <<- - concrete_message
  deactivate concrete_message
  MessageBroker <<- - Message
  utility_hook <<- - MessageBroker
  deactivate MessageBroker
PostgreSQL <<- - utility_hook
deactivate utility_hook
利用者 <<- - PostgreSQL
deactivate PostgreSQL

@enduml

@startuml テーブル定義シーケンス詳細案1a

title テーブル定義シーケンス詳細案1a

actor 利用者
boundary PostgreSQL

box "コンポーネント名：\nfrontend" #LightSkyBlue
control utility_hook
control StubManager
end box

box "コンポーネント名：\nmanager/message-broker" #LightGreen
control MessageBroker
entity Message
entity "CreateTable\nMessage" as concrete_message
entity Receiver
end box

box "コンポーネント名：\nmanager/metadata-manager" #GreenYellow
control tables
database metadata
end box

box "コンポーネント名：\nogawayama" #LightYellow
control "OLTP_Receiver" as oltp_receiver
control "stub::Transaction" as tran
control ogawayama_server
end box

box "コンポーネント名：\nOLAP" #LightPink
control "OLAP_Receiver" as olap_receiver
end box

利用者 -> PostgreSQL : テーブル定義要求()
activate PostgreSQL
note right
CREATE TABLE文
end note

PostgreSQL -> utility_hook
activate utility_hook
  utility_hook -> tables : write meta-data
  activate tables
    tables -> metadata : write
    activate metadata
    tables <<- - metadata
    deactivate metadata
    utility_hook <<- - tables
  deactivate tables

  create concrete_message
  utility_hook -> concrete_message : new
  create oltp_receiver
  utility_hook -> oltp_receiver : new
  create olap_receiver
  utility_hook -> olap_receiver : new

  utility_hook -> concrete_message : set_receiver\n(OLTP_Receiver)
  activate concrete_message
    utility_hook <<- - concrete_message
  deactivate concrete_message
  utility_hook -> concrete_message : set_receiver\n(OLAP_Receiver)
  activate concrete_message
    utility_hook <<- - concrete_message
  deactivate concrete_message

  utility_hook -> StubManager : begin(&transaction)
  note right
  connection = Stub->get_connection();
  transaction = connection->begin();
  end note
  utility_hook -> concrete_message : stub::transactionオブジェクトのvoidポインターを\nMessageオブジェクトのメンバー変数paramにセットする。

  utility_hook -> MessageBroker : send_message\n(CreateTableMessage)
  activate MessageBroker

  MessageBroker -> Message
  Message -> concrete_message
  activate concrete_message
    concrete_message -> Receiver : receive_message\n(Message *message)
    Receiver -> oltp_receiver
    activate oltp_receiver
      oltp_receiver -> concrete_message : collect_data\n(property_tree& table,\n property_tree& datatypes)
      concrete_message -> tables : read metadata
      activate tables
        tables -> metadata : read
        activate metadata
        tables <<- - metadata
        deactivate metadata
        concrete_message <<- - tables
      deactivate tables
      oltp_receiver <<- - concrete_message
      oltp_receiver -> tran : execute_statement(...)
      activate tran
        tran -> ogawayama_server : CREATE TABLE
          activate ogawayama_server
            tran <<- - ogawayama_server
          deactivate ogawayama_server
        oltp_receiver <<- - tran
        oltp_receiver -> tran : commit()
        note right
        transaction->commit();
        end note
        oltp_receiver <<- - tran
      deactivate tran
    Receiver <<- - oltp_receiver
    deactivate oltp_receiver
    concrete_message <<- - Receiver
  Message <<- - concrete_message
  deactivate concrete_message
  MessageBroker <<- - Message
  utility_hook <<- - MessageBroker
  utility_hook -> StubManager : end()
  note right
  結果セット（rs）の開放とコネクション（connection）の切断（と関連リソースの開放）
  end note
  MessageBroker -> Message
  Message -> concrete_message
  activate concrete_message
    concrete_message -> Receiver : receive_message\n(Message *message)
    Receiver -> olap_receiver
    activate olap_receiver
      olap_receiver -> concrete_message : collect_data\n(property_tree& table,\n property_tree& datatypes)
      concrete_message -> tables : read metadata
      activate tables
        tables -> metadata : read
        activate metadata
        tables <<- - metadata
        deactivate metadata
        concrete_message <<- - tables
        olap_receiver <<- - concrete_message
      deactivate tables
      olap_receiver -> olap_receiver : CREATE TABLE
      Receiver <<- - olap_receiver
      deactivate olap_receiver
      concrete_message <<- - Receiver
  Message <<- - concrete_message
  deactivate concrete_message
  MessageBroker <<- - Message
  utility_hook <<- - MessageBroker
  deactivate MessageBroker
PostgreSQL <<- - utility_hook
deactivate utility_hook
利用者 <<- - PostgreSQL
deactivate PostgreSQL

@enduml

PlantUML version 1.2020.10(Sun May 17 09:35:57 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_252-8u252-b09-1~18.04-b09
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>